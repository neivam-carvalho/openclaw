# ============================================
# OpenClaw Railway Configuration
# Deploy configurado para máxima segurança
# ============================================

[build]
dockerfile = "Dockerfile"
# Build argument para incluir browser automation
buildArgs = ["OPENCLAW_INSTALL_BROWSER=1"]

[deploy]
# Replicas
replicas = 1
# Bash entrypoint that runs OpenClaw + HTTP health check server
startCommand = "bash entrypoint.sh"

# Health check configuration
healthchecks = { path = "/health", port = 8080 }

[env]
# Environment essenciais
NODE_ENV = "production"
PORT = "8080"

# Gateway runs on 18789, served via HTTP proxy on 8080

# Diretórios de estado (Railway volume /data)
OPENCLAW_STATE_DIR = "/data"
OPENCLAW_WORKSPACE_DIR = "/data/workspace"

# ⚠️ Variáveis de segurança DEVEM ser setadas no Railway Dashboard
# Não cometer essas no git!
# SETUP_PASSWORD = "" # Setado no Railway Dashboard
# OPENCLAW_GATEWAY_TOKEN = "" # Setado no Railway Dashboard
# ANTHROPIC_API_KEY = "" # API key Anthropic
# TELEGRAM_BOT_TOKEN = "" # Bot token Telegram

# Logging
[observability]
# Railway fornece logs nativos via CLI: railway logs
